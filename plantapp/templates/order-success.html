<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Order Success</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body class="container mt-5">
    <div class="card p-4 shadow-lg">
        <h2 class="text-success">Order Placed Successfully!</h2>
        <p>Thank you for your purchase, <strong>{{ order.buyer.full_name }}</strong>!</p>

        <h3>Order Details:</h3>
        <ul class="list-group">
            <li class="list-group-item"><strong>Order ID:</strong> {{ order.order_id }}</li>

            <li class="list-group-item">
                <strong>Product Name:</strong> 
                {% if order.plant %}
                    {{ order.plant.plant_name }}
                {% else %}
                    Product information not available.
                {% endif %}
            </li>

           
            <li class="list-group-item"><strong>Total Amount:</strong> <span id="total-amount"></span></li>

            
            
            <li class="list-group-item"><strong>Payment Status:</strong> {{ order.payment.payment_status }}</li>
            <li class="list-group-item"><strong>Payment Method:</strong> {{ order.payment.payment_method }}</li>
        </ul>

        <a href="{% url 'plantcart' %}" class="btn btn-primary mt-3">Go back to Home</a>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            let totalAmount = parseFloat("{{ order.total_amount|default:0 }}");
                console.log("Total Amount from Django:", totalAmount);
    
            if (!isNaN(totalAmount)) {
                document.getElementById("total-amount").innerText = "$" + totalAmount.toFixed(2);
            } else {
                document.getElementById("total-amount").innerText = "Error in calculation";
            }
        });
    </script>
    
    
    
</body>
</html>
